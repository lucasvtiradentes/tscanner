---
source: crates/tscanner_rules/tests/spec_tests.rs
expression: snapshot
---
# Input
```ts
function loadModule() {
  const fs = require('fs');
}

if (true) {
  const path = require('path');
}

const arrow = () => {
  const http = require('http');
};
```

# Diagnostics
```
invalid.ts:2:14 no-nested-require ━━━━━━━━━━━━━━━━━━━━

  ! require() calls should not be nested inside functions or blocks. Move to top level for static analysis.

    1 │ function loadModule() {
  > 2 │   const fs = require('fs');
    3 │ }

```

```
invalid.ts:6:16 no-nested-require ━━━━━━━━━━━━━━━━━━━━

  ! require() calls should not be nested inside functions or blocks. Move to top level for static analysis.

    5 │ if (true) {
  > 6 │   const path = require('path');
    7 │ }

```

```
invalid.ts:10:16 no-nested-require ━━━━━━━━━━━━━━━━━━━━

  ! require() calls should not be nested inside functions or blocks. Move to top level for static analysis.

    9 │ const arrow = () => {
  > 10 │   const http = require('http');
    11 │ };

```
