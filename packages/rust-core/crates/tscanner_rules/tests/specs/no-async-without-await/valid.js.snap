---
source: crates/tscanner_rules/tests/spec_tests.rs
expression: snapshot
---
# Input
```js
async function foo() {
  await bar();
}

async function bar() {
  const result = await fetch('https://example.com');
  return result;
}

const baz = async () => {
  await somePromise();
};

const qux = async () => await anotherPromise();

function notAsync() {
  return 1;
}

const normalArrow = () => {
  return 2;
};

class MyClass {
  async method() {
    await this.otherMethod();
  }

  notAsyncMethod() {
    return 3;
  }
}

const obj = {
  async method() {
    await doSomething();
  },
  normalMethod() {
    return 4;
  }
};

async function multipleAwaits() {
  await first();
  await second();
  return await third();
}

async function returnsPromise() {
  return somePromiseFunction();
}

async function returnsPromiseFromMember() {
  return this.client.sendRequest();
}

const returnsPromiseArrow = async () => {
  return fetchData();
};

const returnsPromiseArrowImplicit = async () => somePromise();

async function returnsPromiseChain() {
  return promise.then(x => x);
}

class MyAsyncClass {
  async scan() {
    return this.client.sendRequest({ root });
  }
}
```

# Diagnostics
No issues found.
