---
source: crates/core/tests/spec_tests.rs
expression: snapshot
---
# Input
```ts
fetch('https://api.example.com/data');

Promise.resolve(42);

Promise.reject(new Error('fail'));

Promise.all([p1, p2]);

Promise.race([p1, p2]);

fetch('/api').then(handleSuccess);

Promise.resolve().finally(cleanup);

async function delay(ms: number) {
  await new Promise<void>((resolve) => setTimeout(() => resolve(), ms));
}

delay(200);

const asyncArrow = async () => {
  return 42;
};

asyncArrow();
```

# Diagnostics
```
invalid.ts:1:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

  > 1 │ fetch('https://api.example.com/data');
    2 │ 

```

```
invalid.ts:3:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    2 │ 
  > 3 │ Promise.resolve(42);
    4 │ 

```

```
invalid.ts:5:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    4 │ 
  > 5 │ Promise.reject(new Error('fail'));
    6 │ 

```

```
invalid.ts:7:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    6 │ 
  > 7 │ Promise.all([p1, p2]);
    8 │ 

```

```
invalid.ts:9:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    8 │ 
  > 9 │ Promise.race([p1, p2]);
    10 │ 

```

```
invalid.ts:11:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    10 │ 
  > 11 │ fetch('/api').then(handleSuccess);
    12 │ 

```

```
invalid.ts:13:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    12 │ 
  > 13 │ Promise.resolve().finally(cleanup);
    14 │ 

```

```
invalid.ts:19:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    18 │ 
  > 19 │ delay(200);
    20 │ 

```

```
invalid.ts:25:1 no-floating-promises ━━━━━━━━━━━━━━━━━━━━

  ! Promise-returning expression used without handling. Use await, .then(), .catch(), or assign to a variable.

    24 │ 
  > 25 │ asyncArrow();

```
